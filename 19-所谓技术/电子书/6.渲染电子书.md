<!--
 * @Description: 
 * @Author: xlm
 * @Date: 2023-02-28 10:50:10
 * @LastEditTime: 2023-02-28 14:09:21
 * @LastEditors: xlm
-->


# 注入css

```js

/**
 * Hook to handle injecting stylesheet before
 * a Section is serialized
 * @param  {document} doc
 * @param  {Section} section
 * @private
 */
injectStylesheet(doc, section) {
  // url of stylesheet to be injected
  let style = doc.createElement("link");
  style.setAttribute("type", "text/css");
  style.setAttribute("rel", "stylesheet");
  style.setAttribute("href", this.settings.stylesheet);
  doc.getElementsByTagName("head")[0].appendChild(style);
}



// js方式
const domContent = this.$refs.content
let domIframe = this.$refs.iframe
// 获得填充
const paddingLeft = getDomStyleNum(domContent, 'padding-left')
const paddingRight = getDomStyleNum(domContent, 'padding-right')
// 实际展示区域
this.clientWidth = domContent.clientWidth - (paddingLeft + paddingRight)

// 获得上下填充
const paddingTop = getDomStyleNum(domContent, 'padding-top')
const paddingBottom = getDomStyleNum(domContent, 'padding-bottom')
// 实际展示区域
this.clientHeight = domContent.scrollHeight - (paddingTop + paddingBottom)
let style = this.bookViewStyle || document.createElement('style');

// 分栏
const width = this.clientWidth
let maxWidth = width / 2
this.viewWidth = (width / 2 - this.gap)
style.innerText = `
    body {
      column-width: calc(50vw - ${this.gap}px);
      text-align: justify;
      background-color:${this.pageStyle['background-color']} !important;
    }
    body>*{
      max-width:${maxWidth}px;
    }
    p{
        color: ${this.pageStyle['color']} !important;
        font-size: ${this.pageStyle['font-size']} !important;
        line-height: ${this.pageStyle['line-height']} !important;
      
    }
  `
if (!this.bookViewStyle) {
  domIframe.contentWindow.document.querySelector('head').appendChild(style)
  this.bookViewStyle = style
}

```



# 注入js

```js

  document.open();
  document.write("<p>Hello world!</p>");
  document.write("<p>I am a fish</p>");
  document.write("<p>The number is 42</p>");
  document.close();

```